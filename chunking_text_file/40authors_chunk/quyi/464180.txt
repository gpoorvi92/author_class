          return false;
        if (!this.rules.equals(that.rules))
          return false;
      }

      return true;
    }

    @Override
    public int hashCode() {
